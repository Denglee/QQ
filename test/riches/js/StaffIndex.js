(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StaffIndex"],{"34fb":function(t,e,a){"use strict";var o=a("6c1d"),l=a.n(o);l.a},5033:function(t,e,a){"use strict";var o=a("99a1"),l=a.n(o);l.a},"6c1d":function(t,e,a){},"99a1":function(t,e,a){},da53:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layoutR-main"},[a("el-tabs",{directives:[{name:"show",rawName:"v-show",value:t.staffListState,expression:"staffListState"}],staticClass:"vip-tabBox pubWidth",attrs:{id:"staffPay-tabBox"},on:{"tab-click":t.tabTotal},model:{value:t.activeTabName,callback:function(e){t.activeTabName=e},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{lazy:t.tabLazy,label:"员工列表",name:"StaffSalary"}},[a("div",{staticClass:"clearfix"},[a("el-button",{staticClass:"btn-add fr btn-search",attrs:{type:"primary"},on:{click:t.btnAddStaff}},[t._v("添加员工")])],1),a("div",{staticClass:"vip-tabBox"},[a("div",{staticClass:"pt-screen"},[a("el-select",{staticClass:"inp-mar14 ptSel-section",attrs:{placeholder:"是否在职"},model:{value:t.lockStateVal,callback:function(e){t.lockStateVal=e},expression:"lockStateVal"}},t._l(t.lockState,(function(t){return a("el-option",{key:t.index,attrs:{label:t.value,value:t.lock}})})),1),a("el-select",{staticClass:"inp-mar14 ptSel-section",attrs:{placeholder:"请选择岗位"},model:{value:t.userTypeListVal,callback:function(e){t.userTypeListVal=e},expression:"userTypeListVal"}},t._l(t.userTypeList,(function(t){return a("el-option",{key:t.index,attrs:{label:t.catname,value:t.id}})})),1),a("el-input",{staticClass:"inp-mar14 pt-screen-input",attrs:{placeholder:"请输入姓名或电话号码",clearable:""},model:{value:t.staffInpVal,callback:function(e){t.staffInpVal=e},expression:"staffInpVal"}}),a("el-button",{staticClass:"btn-search",attrs:{icon:"el-icon-search"},on:{click:t.btnSeaStaff}},[t._v("搜索")]),a("div",{staticClass:"fr"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"bottom"}},[a("el-button",{staticClass:"btn-search",attrs:{icon:"el-icon-edit"},on:{click:function(e){return t.changeStaff()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom"}},[a("el-button",{staticClass:"btn-search",attrs:{icon:"el-icon-delete"},on:{click:function(e){return t.deleteStaff()}}})],1)],1)],1),a("el-table",{ref:"multipleTable",staticClass:"pub-table",attrs:{data:t.tableStaff,border:""},on:{"selection-change":t.checkedStaff,"row-click":t.handleRowClick}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.sex?a("div",{staticClass:"status-connect"},[t._v("未知")]):t._e(),1==e.row.sex?a("div",{staticClass:"status-break"},[t._v("男")]):t._e(),2==e.row.sex?a("div",{staticClass:"status-break"},[t._v("女")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"user_type",label:"岗位"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("全部职位")]):t._e(),1==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("店长")]):t._e(),2==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("顾问")]):t._e(),3==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("教练")]):t._e(),4==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("操课")]):t._e(),5==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("财务")]):t._e(),6==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("前台")]):t._e(),7==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("保洁员")]):t._e(),8==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("后勤")]):t._e(),100==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("教练经理")]):t._e(),200==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("顾问经理")]):t._e(),9==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("boss")]):t._e(),10==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("行政")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"部门",prop:"group_name"}}),a("el-table-column",{attrs:{label:"班次",prop:"classes"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.classes?a("div",[t._v("正班")]):t._e(),2==e.row.classes?a("div",[t._v("早班")]):t._e(),3==e.row.classes?a("div",[t._v("中班")]):t._e(),4==e.row.classes?a("div",[t._v("晚班")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),a("el-table-column",{attrs:{prop:"user_no",label:"工号"}}),a("el-table-column",{attrs:{prop:"deduction_type",label:"提成方式"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.deduction_type,(function(e,o){return a("div",[t._v("\n                                "+t._s(e)+"\n                            ")])}))}}])}),a("el-table-column",{attrs:{prop:"register_time",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"status-connect"},[t._v(t._s(t._f("dateFormat")(e.row.register_time)))])]}}])}),a("el-table-column",{attrs:{prop:"lock",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.lock?a("div",{staticClass:"status-connect"},[t._v("在职")]):t._e(),1==e.row.lock?a("div",{staticClass:"status-break"},[t._v("离职")]):t._e()]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total,jumper",total:t.pageTotalRows,"page-size":t.pageListRows},on:{"current-change":t.PageCurrent}})],1)]),a("el-tab-pane",{attrs:{lazy:t.tabLazy,label:"部门",name:"StaffRoyalty"}},[a("div",{staticClass:"clearfix"},[a("el-button",{staticClass:"btn-add fr btn-search",attrs:{type:"primary"},on:{click:function(e){return t.btnAddGroup()}}},[t._v("添加部门")])],1),a("el-table",{staticClass:"pub-table",attrs:{data:t.groupArr,border:""}},[a("el-table-column",{attrs:{type:"index",width:"200px"}}),a("el-table-column",{attrs:{prop:"name",label:"部门"}}),a("el-table-column",{attrs:{label:"详情"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.EditGroup(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.deleteGroup(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],1),t.addStaffState?a("div",{staticClass:"vip-tabBox"},[a("navBread",{attrs:{breadTitle:"员工列表",breadContent1:t.editStaffMark},on:{GoBack:function(e){return t.goBack("staffListState","addStaffState")}}}),a("addStaff",{attrs:{editStaffMark:t.editStaffMark,editStaff:t.editStaff}})],1):t._e(),a("el-dialog",{attrs:{title:t.diaGroupTitle,visible:t.diaGroup,width:"600px"},on:{"update:visible":function(e){t.diaGroup=e}}},[a("el-form",{staticClass:"dia-form",attrs:{model:t.setupGroup,"label-width":t.formLabelRoyalty}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{staticClass:"dia-inp",attrs:{placeholder:"请输入部门名字",autocomplete:"off"},model:{value:t.setupGroup.name,callback:function(e){t.$set(t.setupGroup,"name",e)},expression:"setupGroup.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(e){t.diaGroup=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sureDiaGropu()}}},[t._v("确 定")])],1)],1)],1)},l=[],s=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=(a("c5f6"),a("7f7f"),a("2f62")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vip-tabBox"},[a("el-form",{ref:"addStaffForm",staticClass:"addForm-box",attrs:{model:t.addStaffForm,rules:t.addRules}},[a("el-form-item",{attrs:{label:"员工头像","label-width":t.formLabelWidth}},[t.addStaffForm.userimage?a("div",{staticClass:"img-header"},[a("img",{ref:"singleImg",attrs:{src:t._f("imgBase")(t.addStaffForm.userimage,t.localUrl)}})]):t._e(),a("el-upload",{staticClass:"btn-header",attrs:{action:"#","list-type":"picture-card","on-change":t.changeUpload,"show-file-list":!1,"auto-upload":!1}},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),a("el-dialog",{attrs:{visible:t.diaVisible},on:{"update:visible":function(e){t.diaVisible=e}}},[a("img",{attrs:{width:"100%",src:t.addStaffForm.userimage,alt:""}})])],1),a("el-form-item",{attrs:{label:"职位","label-width":t.formLabelWidth,prop:"user_type"}},[a("el-select",{staticClass:"inpStaffTel",attrs:{placeholder:"请选择职位"},model:{value:t.addStaffForm.user_type,callback:function(e){t.$set(t.addStaffForm,"user_type",e)},expression:"addStaffForm.user_type"}},t._l(t.userTypeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.catname,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"部门","label-width":t.formLabelWidth,prop:"group_id"}},[a("el-select",{staticClass:"inpStaffTel",attrs:{placeholder:"请选择部门"},model:{value:t.addStaffForm.group_id,callback:function(e){t.$set(t.addStaffForm,"group_id",e)},expression:"addStaffForm.group_id"}},t._l(t.staffGroup,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth,prop:"name"}},[a("el-input",{staticClass:"inpStaffTel",attrs:{autocomplete:"off",placeholder:"请输入姓名",clearable:""},model:{value:t.addStaffForm.name,callback:function(e){t.$set(t.addStaffForm,"name",e)},expression:"addStaffForm.name"}})],1),a("el-form-item",{attrs:{label:"编号","label-width":t.formLabelWidth,prop:"user_no"}},[a("el-input",{staticClass:"inpStaffTel",attrs:{autocomplete:"off",placeholder:"请输入编号",clearable:""},model:{value:t.addStaffForm.user_no,callback:function(e){t.$set(t.addStaffForm,"user_no",e)},expression:"addStaffForm.user_no"}}),a("div",{staticClass:"colorGray"},[a("i",{staticClass:"el-icon-warning"}),t._v("请输入编号，如：小惠，编号写：xh,便于后期快速查询")])],1),a("el-form-item",{attrs:{label:"性别","label-width":t.formLabelWidth}},[a("el-radio-group",{staticClass:"inpStaffName",model:{value:t.addStaffForm.sex,callback:function(e){t.$set(t.addStaffForm,"sex",e)},expression:"addStaffForm.sex"}},[a("el-radio",{attrs:{label:"1"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"}},[t._v("女")])],1)],1),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[a("el-radio-group",{staticClass:"inpStaffName",model:{value:t.addStaffForm.lock,callback:function(e){t.$set(t.addStaffForm,"lock",e)},expression:"addStaffForm.lock"}},[a("el-radio",{attrs:{label:"0"}},[t._v("在职")]),a("el-radio",{attrs:{label:"1"}},[t._v("离职")])],1)],1),a("el-form-item",{attrs:{label:"电话","label-width":t.formLabelWidth,prop:"phone"}},[a("el-input",{staticClass:"inpStaffTel",attrs:{autocomplete:"off",placeholder:"请输入电话",clearable:""},model:{value:t.addStaffForm.phone,callback:function(e){t.$set(t.addStaffForm,"phone",e)},expression:"addStaffForm.phone"}})],1),a("el-form-item",{attrs:{label:"班次","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"inpStaffTel",attrs:{placeholder:"请选择班次"},model:{value:t.addStaffForm.classes,callback:function(e){t.$set(t.addStaffForm,"classes",e)},expression:"addStaffForm.classes"}},t._l(t.classesType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"价格模式","label-width":t.formLabelWidth}},[a("el-select",{staticClass:"inpStaffTel",attrs:{placeholder:"请选择价格模式"},model:{value:t.addStaffForm.price_type,callback:function(e){t.$set(t.addStaffForm,"price_type",e)},expression:"addStaffForm.price_type"}},t._l(t.priceType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.id}})})),1)],1),2==t.addStaffForm.price_type?a("div",[a("el-form-item",{attrs:{label:t.priceType[1].value+1,"label-width":t.formLabelWidth}},[a("el-time-picker",{key:"addStaffForm.eprice_s",staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段1开始时间"},model:{value:t.addStaffForm.eprice_s,callback:function(e){t.$set(t.addStaffForm,"eprice_s",e)},expression:"addStaffForm.eprice_s"}}),a("el-time-picker",{key:"addStaffForm.eprice_e",staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段1结束时间"},model:{value:t.addStaffForm.eprice_e,callback:function(e){t.$set(t.addStaffForm,"eprice_e",e)},expression:"addStaffForm.eprice_e"}}),a("el-input",{staticClass:"inpStaffTime",attrs:{placeholder:"时段1价格",autocomplete:"off",clearable:""},model:{value:t.addStaffForm.eprice,callback:function(e){t.$set(t.addStaffForm,"eprice",e)},expression:"addStaffForm.eprice"}})],1),a("el-form-item",{attrs:{label:t.priceType[1].value+2,"label-width":t.formLabelWidth}},[a("el-time-picker",{staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段2开始时间"},model:{value:t.addStaffForm.eprice2_s,callback:function(e){t.$set(t.addStaffForm,"eprice2_s",e)},expression:"addStaffForm.eprice2_s"}}),a("el-time-picker",{staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段2结束时间"},model:{value:t.addStaffForm.eprice2_e,callback:function(e){t.$set(t.addStaffForm,"eprice2_e",e)},expression:"addStaffForm.eprice2_e"}}),a("el-input",{staticClass:"inpStaffTime",attrs:{placeholder:"时段2价格",autocomplete:"off",clearable:""},model:{value:t.addStaffForm.eprice2,callback:function(e){t.$set(t.addStaffForm,"eprice2",e)},expression:"addStaffForm.eprice2"}})],1),a("el-form-item",{attrs:{label:t.priceType[1].value+3,"label-width":t.formLabelWidth}},[a("el-time-picker",{staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段3开始时间"},model:{value:t.addStaffForm.eprice3_s,callback:function(e){t.$set(t.addStaffForm,"eprice3_s",e)},expression:"addStaffForm.eprice3_s"}}),a("el-time-picker",{staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段3结束时间"},model:{value:t.addStaffForm.eprice3_e,callback:function(e){t.$set(t.addStaffForm,"eprice3_e",e)},expression:"addStaffForm.eprice3_e"}}),a("el-input",{staticClass:"inpStaffTime",attrs:{placeholder:"时段3价格",autocomplete:"off",clearable:""},model:{value:t.addStaffForm.eprice3,callback:function(e){t.$set(t.addStaffForm,"eprice3",e)},expression:"addStaffForm.eprice3"}})],1)],1):a("div",[a("el-form-item",{attrs:{label:t.priceType[0].value,"label-width":t.formLabelWidth}},[a("el-input",{staticClass:"inpStaffTel",attrs:{placeholder:"请输入价格",autocomplete:"off",clearable:""},model:{value:t.addStaffForm.eprice,callback:function(e){t.$set(t.addStaffForm,"eprice",e)},expression:"addStaffForm.eprice"}})],1)],1),a("el-form-item",{attrs:{label:"基本工资","label-width":t.formLabelWidth}},[a("el-input",{staticClass:"inpStaffTel",attrs:{autocomplete:"off",placeholder:"请输入基本工资"},model:{value:t.addStaffForm.salary,callback:function(e){t.$set(t.addStaffForm,"salary",e)},expression:"addStaffForm.salary"}})],1),a("el-form-item",{attrs:{label:"提成方式","label-width":t.formLabelWidth}},[a("el-checkbox-group",{staticClass:"inpStaffTel",on:{change:t.CheckedtcType},model:{value:t.addStaffForm.deduction_type,callback:function(e){t.$set(t.addStaffForm,"deduction_type",e)},expression:"addStaffForm.deduction_type"}},t._l(t.deductionType,(function(e,o){return a("el-checkbox",{key:o,attrs:{name:"DeductionType",label:e.id}},[t._v(t._s(e.deduction_name))])})),1)],1),a("el-form-item",{attrs:{label:"教练介绍","label-width":t.formLabelWidth}},[a("tinymce",{ref:"editor",staticStyle:{"max-width":"80%"},attrs:{disabled:t.disabled},on:{onClick:t.onClick},model:{value:t.addStaffForm.user_des,callback:function(e){t.$set(t.addStaffForm,"user_des",e)},expression:"addStaffForm.user_des"}})],1),a("el-form-item",{attrs:{"label-width":t.formLabelWidth}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.postStaffAdd("addStaffForm")}}},[t._v("提交")])],1)],1)],1)},n=[],c=a("e6f4"),f=a("f88c"),d=a("a474"),u={name:"addStaff",inject:["reLoad"],props:{editStaffMark:{type:String},editStaff:{}},data:function(){return{formLabelWidth:"120px",diaHeadImgUrl:"",diaVisible:!1,diaImgVisi:!1,imgUrl:"",addStaffForm:{id:"",information:"2",zmtek_ver:2,type:1,userimage:"",user_type:"",name:"",sex:"1",lock:"0",user_no:"",phone:"",classes:"",group_id:"",salary:"",deduction_type:[],user_des:"",price_type:"",eprice_s:"",eprice_e:"",eprice:"",eprice2_s:"",eprice2_e:"",eprice2:"",eprice3_s:"",eprice3_e:"",eprice3:""},priceType:[{id:"1",value:"全天统一 "},{id:"2",value:"分时段"}],userTypeList:this.GLOBAL.userTypeList,staffGroup:[],deductionType:[],classesType:[{id:"1",value:"正班 "},{id:"2",value:"早班"},{id:"3",value:"中班"},{id:"4",value:"晚班"}],addRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],user_no:[{required:!0,message:"请输入编号",trigger:"blur"}],phone:[{required:!0,message:"请输入姓名",trigger:"blur"}],user_type:[{required:!0,message:"请选择职位",trigger:"change"}],group_id:[{required:!0,message:"请选择部门",trigger:"change"}]},localUrl:this.GLOBAL.localUrl,disabled:!1}},filters:{imgBase:function(t,e){return console.log(t),t.indexOf("data:image")>-1?t:e+"/"+t}},methods:{onClick:function(t,e){console.log("Element clicked"),console.log(t),console.log(e)},clear:function(){this.$refs.editor.clear()},changeUpload:function(t){var e=this;console.log(t),this.addStaffForm.userimage="",this.GLOBAL.getEleBase64(t.raw).then((function(t){console.log(t),e.addStaffForm.userimage=t}))},handleRemove:function(t){console.log(t)},staffCardPreview:function(t){this.diaHeadImgUrl=t.url,this.diaVisible=!0},getStaffFrom:function(){"员工编辑"==this.editStaffMark&&(this.addStaffForm=this.editStaff,console.log(this.editStaff)),console.log(this.addStaffForm)},postStaffAdd:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;var a=e.addStaffForm;console.log(a),e.addStaffForm.zmtek_ver=2,e.addStaffForm.information=2,Object(d["v"])(a).then((function(t){1==t.status?(console.log(t.data),e.$message.success(t.info),setTimeout((function(){e.reLoad()}),1e3)):(e.$message.error(t.info),console.log(t.info))})).catch((function(t){console.log(t)}))}))},getStaffGroup:function(){var t=this;Object(d["y"])({zmtek_ver:2,type:1}).then((function(e){console.log(e.data),t.staffGroup=e.data})).catch((function(t){console.log(t)}))},CheckedtcType:function(t){},getStaffDeduct:function(){var t=this;Object(d["w"])({zmtek_ver:2,type:1}).then((function(e){console.log(e.data),t.deductionType=e.data})).catch((function(t){console.log(t)}))}},created:function(){this.getStaffGroup(),this.getStaffDeduct(),this.getStaffFrom()},components:{navBread:c["a"],tinymce:f["a"]}},p=u,m=a("2877"),b=Object(m["a"])(p,i,n,!1,null,"18f4e363",null),h=b.exports;function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={inject:["reLoad"],name:"StaffIndex",data:function(){return{activeTabName:"StaffSalary",tabLazy:!0,lockState:[{lock:0,value:"在职"},{lock:1,value:"离职"}],lockStateVal:0,userTypeList:this.GLOBAL.userTypeList,userTypeListVal:"10000",staffInpVal:"",tableStaff:[],pageTotalRows:0,pageListRows:0,staffPage:1,formLabelWidth:"120px",EditListForm:!1,staffListState:!0,addStaffState:!1,addTitle:"添加员工",checkedRows:[],staffSelection:[],editStaffMark:"",editStaff:[],formLabelRoyalty:"90px",diaGroup:!1,diaGroupTitle:"",groupType:1,setupGroup:{name:"",id:""},groupArr:[]}},methods:{tabTotal:function(t,e){var a=t.name;this.callTabApi(a)},getStaffIndex:function(){var t=this;Object(d["z"])({p:this.staffPage,zmtek_ver:2,user_type:this.userTypeListVal,phone:this.staffInpVal,lock:this.lockStateVal}).then((function(e){console.log(e.data.list),1==e.status&&(t.tableStaff=e.data.list,t.pageTotalRows=Number(e.data.totalRows),t.pageListRows=e.data.listRows)})).catch((function(t){console.log(t)}))},PageCurrent:function(t){this.staffPage=t,this.getStaffIndex()},btnSeaStaff:function(){this.staffPage=1,this.getStaffIndex()},checkedStaff:function(t){console.log(t),this.checkedRows=t},handleRowClick:function(t,e,a){this.$refs.multipleTable.toggleRowSelection(t)},deleteStaff:function(t){var e=this,a=this.checkedRows;console.log(a),console.log(a.length),0==a.length?this.$message.error("至少选一个操作对象"):1==a.length?(console.log(a[0].id),Object(d["x"])({id:a[0].id,zmtek_ver:2}).then((function(t){0==t.status&&e.$prompt(t.info,"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var o=t.value;console.log(o),Object(d["x"])({id:a[0].id,zmtek_ver:2,pwd:o}).then((function(t){console.log(t),1==t.status&&(e.$message.success(t.info),setTimeout((function(){e.reLoad()}),1e3)),0==t.status&&e.$message.error(t.info)})).catch((function(t){console.log(t)}))})).catch((function(){console.log("取消")}))})).catch((function(t){console.log(t)}))):this.$message.error("只能选一个")},changeStaff:function(){var t=this.checkedRows;console.log(t),console.log(t.length),0==t.length?this.$message.error("至少选一个操作对象"):1==t.length?(console.log(t[0]),this.editStaffMark="员工编辑",this.editStaff=t[0],this.staffListState=!1,this.addStaffState=!0):this.$message.error("只能选一个")},btnAddStaff:function(){this.editStaffMark="添加员工",this.editStaff=[],this.staffListState=!1,this.addStaffState=!0},goBack:function(t,e){console.log(t),this[t]=!0,this[e]=!1},getStaffGroup:function(t,e){var a=this;Object(d["y"])({zmtek_ver:2,type:this.groupType,name:t||"",id:e||""}).then((function(t){console.log(t.data),console.log(a.groupType),1==t.status&&(1==a.groupType?a.groupArr=t.data:(a.$message.success(t.info),setTimeout((function(){a.diaGroup=!1,a.reLoad()}),1e3))),0==t.status&&console.log(t.info)})).catch((function(t){console.log(t)}))},sureDiaGropu:function(){var t=this.setupGroup.name;if(console.log(t),""==t)this.$message.error("部门名称 不能为空");else{var e=this.setupGroup.id;this.getStaffGroup(t,e)}},btnAddGroup:function(){this.diaGroupTitle="添加部门",this.groupType=2,this.diaGroup=!0},EditGroup:function(t,e){console.log(t,e),this.setupGroup.id=e.id,this.setupGroup.name=e.name,this.diaGroupTitle="部门编辑",this.groupType=3,this.diaGroup=!0},deleteGroup:function(t,e){var a=this;this.$confirm("确定删除该部门？？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.groupType=4;var t=e.id;console.log(t),a.getStaffGroup("",t)})).catch((function(){}))},callTabApi:function(t){console.log(t),"StaffSalary"==t&&(console.log(this.getStaffClasses.lock),this.staffPage=this.getStaffClasses.lock,this.getStaffIndex()),"StaffRoyalty"==t&&this.getStaffGroup()}},created:function(){var t=this.activeTabName;this.callTabApi(t)},computed:v({},Object(r["c"])({getStaffClasses:"StoreTagNav/GetStaffClasses"})),components:{addStaff:h,navBread:c["a"]}},_=g,y=(a("34fb"),Object(m["a"])(_,o,l,!1,null,null,null));e["default"]=y.exports},e6f4:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{staticClass:"nav-bread",attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("span",{staticClass:"hover-bread",on:{click:function(e){return t.$emit("GoBack")}}},[a("i",{staticClass:"el-icon-back"}),t._v(t._s(t.breadTitle)+"\n            ")])]),a("el-breadcrumb-item",[t._v(t._s(t.breadContent1))])],1)],1)},l=[],s=a("a026");a("3c4e");const r=Object.prototype.hasOwnProperty;function i(t,e){return r.call(t,e)}const n=/(%|)\{([0-9a-zA-Z_]+)\}/g;var c=function(t){function e(t,...e){return 1===e.length&&"object"===typeof e[0]&&(e=e[0]),e&&e.hasOwnProperty||(e={}),t.replace(n,(a,o,l,s)=>{let r;return"{"===t[s-1]&&"}"===t[s+a.length]?l:(r=i(e,l)?e[l]:null,null===r||void 0===r?"":r)})}return e};c(s["default"]);var f={name:"navBread",props:{breadTitle:{type:String,default:function(){return"首页"}},breadContent1:{type:String,default:function(){return""}},breadContent2:{type:String,default:function(){return""}}},data:function(){return{}},methods:{},created:function(){}},d=f,u=(a("5033"),a("2877")),p=Object(u["a"])(d,o,l,!1,null,"20808f96",null);e["a"]=p.exports}}]);