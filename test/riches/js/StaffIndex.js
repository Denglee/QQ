(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StaffIndex"],{"34fb":function(t,e,a){"use strict";var s=a("6c1d"),o=a.n(s);o.a},"39e4":function(t,e,a){},"3f6f":function(t,e,a){"use strict";var s=a("39e4"),o=a.n(s);o.a},"5dbc":function(t,e,a){var s=a("d3f4"),o=a("8b97").set;t.exports=function(t,e,a){var n,l=e.constructor;return l!==a&&"function"==typeof l&&(n=l.prototype)!==a.prototype&&s(n)&&o&&o(t,n),t}},"6c1d":function(t,e,a){},"7f39":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{staticClass:"nav-bread",attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("span",{staticClass:"hover-bread",on:{click:function(e){return t.$emit("GoBack")}}},[a("i",{staticClass:"el-icon-back"}),t._v(t._s(t.breadTitle)+"\n            ")])]),a("el-breadcrumb-item",[t._v(t._s(t.breadContent1))])],1)],1)},o=[],n=a("a026");a("3c4e");const l=Object.prototype.hasOwnProperty;function r(t,e){return l.call(t,e)}const c=/(%|)\{([0-9a-zA-Z_]+)\}/g;var i=function(t){function e(t,...e){return 1===e.length&&"object"===typeof e[0]&&(e=e[0]),e&&e.hasOwnProperty||(e={}),t.replace(c,(a,s,o,n)=>{let l;return"{"===t[n-1]&&"}"===t[n+a.length]?o:(l=r(e,o)?e[o]:null,null===l||void 0===l?"":l)})}return e};i(n["default"]);var f={name:"navBread",props:{breadTitle:{type:String,default:function(){return"首页"}},breadContent1:{type:String,default:function(){return""}},breadContent2:{type:String,default:function(){return""}}},data:function(){return{}},methods:{},created:function(){}},u=f,p=(a("3f6f"),a("2877")),d=Object(p["a"])(u,s,o,!1,null,"622ba906",null);e["a"]=d.exports},"8b97":function(t,e,a){var s=a("d3f4"),o=a("cb7c"),n=function(t,e){if(o(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,s){try{s=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),s(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,a){return n(t,a),e?t.__proto__=a:s(t,a),t}}({},!1):void 0),check:n}},aa77:function(t,e,a){var s=a("5ca1"),o=a("be13"),n=a("79e5"),l=a("fdef"),r="["+l+"]",c="​",i=RegExp("^"+r+r+"*"),f=RegExp(r+r+"*$"),u=function(t,e,a){var o={},r=n((function(){return!!l[t]()||c[t]()!=c})),i=o[t]=r?e(p):l[t];a&&(o[a]=i),s(s.P+s.F*r,"String",o)},p=u.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(i,"")),2&e&&(t=t.replace(f,"")),t};t.exports=u},c5f6:function(t,e,a){"use strict";var s=a("7726"),o=a("69a8"),n=a("2d95"),l=a("5dbc"),r=a("6a99"),c=a("79e5"),i=a("9093").f,f=a("11e9").f,u=a("86cc").f,p=a("aa77").trim,d="Number",b=s[d],v=b,m=b.prototype,_=n(a("2aeb")(m))==d,h="trim"in String.prototype,g=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=h?e.trim():p(e,3);var a,s,o,n=e.charCodeAt(0);if(43===n||45===n){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:s=2,o=49;break;case 79:case 111:s=8,o=55;break;default:return+e}for(var l,c=e.slice(2),i=0,f=c.length;i<f;i++)if(l=c.charCodeAt(i),l<48||l>o)return NaN;return parseInt(c,s)}}return+e};if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof b&&(_?c((function(){m.valueOf.call(a)})):n(a)!=d)?l(new v(g(e)),a,b):g(e)};for(var S,y=a("9e1e")?i(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;y.length>k;k++)o(v,S=y[k])&&!o(b,S)&&u(b,S,f(v,S));b.prototype=m,m.constructor=b,a("2aba")(s,d,b)}},da53:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layoutR-main"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.staffListState,expression:"staffListState"}]},[a("div",{staticClass:"clearfix"},[a("el-button",{staticClass:"btn-add fr btn-search",attrs:{type:"primary"},on:{click:t.btnAddStaff}},[t._v("添加员工")])],1),a("div",{staticClass:"staffList-box vip-tabBox pubWidth"},[a("div",{staticClass:"pt-screen"},[a("el-select",{staticClass:"inp-mar14 ptSel-section",attrs:{placeholder:"是否在职"},model:{value:t.lockStateVal,callback:function(e){t.lockStateVal=e},expression:"lockStateVal"}},t._l(t.lockState,(function(t){return a("el-option",{key:t.index,attrs:{label:t.value,value:t.lock}})})),1),a("el-select",{staticClass:"inp-mar14 ptSel-section",attrs:{placeholder:"请选择职位"},model:{value:t.userTypeListVal,callback:function(e){t.userTypeListVal=e},expression:"userTypeListVal"}},t._l(t.userTypeList,(function(t){return a("el-option",{key:t.index,attrs:{label:t.catname,value:t.id}})})),1),a("el-input",{staticClass:"inp-mar14 pt-screen-input",attrs:{placeholder:"请输入姓名或电话号码",clearable:""},model:{value:t.staffInpVal,callback:function(e){t.staffInpVal=e},expression:"staffInpVal"}}),a("el-button",{staticClass:"btn-search",attrs:{icon:"el-icon-search"},on:{click:t.btnSeaStaff}},[t._v("搜索")]),a("div",{staticClass:"fr"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"bottom"}},[a("el-button",{staticClass:"btn-search",attrs:{icon:"el-icon-search"},on:{click:function(e){return t.change()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom"}},[a("el-button",{staticClass:"btn-search",attrs:{icon:"el-icon-delete"},on:{click:function(e){return t.delete2()}}})],1)],1)],1),a("el-table",{staticClass:"pub-table",attrs:{data:t.tableStaff,border:""},on:{"selection-change":t.checkedStaff}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.sex?a("div",{staticClass:"status-connect"},[t._v("未知")]):t._e(),1==e.row.sex?a("div",{staticClass:"status-break"},[t._v("男")]):t._e(),2==e.row.sex?a("div",{staticClass:"status-break"},[t._v("女")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"user_type",label:"职位"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("全部职位")]):t._e(),1==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("店长")]):t._e(),2==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("顾问")]):t._e(),3==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("教练")]):t._e(),4==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("操课")]):t._e(),5==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("财务")]):t._e(),6==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("前台")]):t._e(),7==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("保洁员")]):t._e(),8==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("后勤")]):t._e(),100==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("教练经理")]):t._e(),200==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("顾问经理")]):t._e(),9==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("boss")]):t._e(),10==e.row.user_type?a("div",{staticClass:"status-connect"},[t._v("行政")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),a("el-table-column",{attrs:{prop:"user_no",label:"工号"}}),a("el-table-column",{attrs:{prop:"Royalty",label:"提成方式"}}),a("el-table-column",{attrs:{prop:"register_time",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"status-connect"},[t._v(t._s(t._f("dateFormat")(e.row.register_time)))])]}}])}),a("el-table-column",{attrs:{prop:"lock",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.lock?a("div",{staticClass:"status-connect"},[t._v("在职")]):t._e(),1==e.row.lock?a("div",{staticClass:"status-break"},[t._v("离职")]):t._e()]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total,jumper",total:t.pageTotalRows,"page-size":t.pageListRows},on:{"current-change":t.PageCurrent}})],1)]),a("el-dialog",{attrs:{title:"员工编辑",visible:t.EditListForm},on:{"update:visible":function(e){t.EditListForm=e}}},[a("el-form",{attrs:{model:t.staffSelection,"label-width":t.formLabelWidth}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.staffSelection.name,callback:function(e){t.$set(t.staffSelection,"name",e)},expression:"staffSelection.name"}})],1),a("el-form-item",{attrs:{label:"性别"}},[[a("el-radio",{attrs:{label:"1"},model:{value:t.staffSelection.sex,callback:function(e){t.$set(t.staffSelection,"sex",e)},expression:"staffSelection.sex"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"},model:{value:t.staffSelection.sex,callback:function(e){t.$set(t.staffSelection,"sex",e)},expression:"staffSelection.sex"}},[t._v("女")])]],2),a("el-form-item",{attrs:{label:"职位"}},[a("el-select",{staticClass:"inp-mar14 ptSel-section",attrs:{placeholder:"请选择职位"},model:{value:t.staffSelection.user_type,callback:function(e){t.$set(t.staffSelection,"user_type",e)},expression:"staffSelection.user_type"}},t._l(t.userTypeList,(function(t){return a("el-option",{key:t.index,attrs:{label:t.catname,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"电话号码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.staffSelection.phone,callback:function(e){t.$set(t.staffSelection,"phone",e)},expression:"staffSelection.phone"}})],1),a("el-form-item",{attrs:{label:"编号"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.staffSelection.user_no,callback:function(e){t.$set(t.staffSelection,"user_no",e)},expression:"staffSelection.user_no"}}),a("div",[t._v("请输入编号，如：小惠，编号写：xh,便于后期快速查询")])],1),a("el-form-item",{attrs:{label:"提成方式"}}),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.staffSelection.register_time,callback:function(e){t.$set(t.staffSelection,"register_time",e)},expression:"staffSelection.register_time"}})],1),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[[a("el-radio",{attrs:{label:"0"},model:{value:t.staffSelection.lock,callback:function(e){t.$set(t.staffSelection,"lock",e)},expression:"staffSelection.lock"}},[t._v("在职")]),a("el-radio",{attrs:{label:"1"},model:{value:t.staffSelection.lock,callback:function(e){t.$set(t.staffSelection,"lock",e)},expression:"staffSelection.lock"}},[t._v("离职")])]],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sureEdit()}}},[t._v("确 定")])],1)],1)],1)},o=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),l=(a("c5f6"),a("2f62")),r=a("7f39"),c=a("a474");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"StaffIndex",data:function(){return{dialogImageUrl:"",dialogVisible:!1,disabled:!1,imgUrl:"",lockState:[{lock:0,value:"在职"},{lock:1,value:"离职"}],lockStateVal:0,userTypeList:this.GLOBAL.userTypeList,userTypeListVal:1e4,staffInpVal:"",tableStaff:[],pageTotalRows:0,pageListRows:0,staffPage:1,formLabelWidth:"120px",EditListForm:!1,staffListState:!0,addStaffState:!1,checkedRows:[],staffSelection:[],editForm:[]}},methods:{btnSeaStaff:function(){this.staffPage=1,this.getStaffIndex()},getStaffIndex:function(){var t=this;Object(c["p"])({p:this.staffPage,zmtek_ver:2,user_type:this.userTypeListVal,phone:this.staffInpVal,lock:this.lockStateVal}).then((function(e){console.log(e.data.list),1==e.status&&(t.tableStaff=e.data.list,t.pageTotalRows=Number(e.data.totalRows),t.pageListRows=e.data.listRows)})).catch((function(t){console.log(t)}))},PageCurrent:function(t){this.staffPage=t,this.getStaffIndex()},changeUpload:function(t){var e=this;console.log(t),this.GLOBAL.getEleBase64(t.raw).then((function(t){console.log(t),e.imgUrl=t}))},postStaffAdd:function(){var t=this.imgUrl;console.log(t),Object(c["o"])({userimage:t,information:2,zmtek_ver:2}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},handleRemove:function(t){console.log(t)},staffCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},change:function(){var t=this.checkedRows;console.log(t),console.log(t.length),0==t.length?this.$message.error("至少选一个操作对象"):1==t.length?(this.staffSelection=t[0],this.EditListForm=!0):this.$message.error("只能选一个")},delete2:function(){},checkedStaff:function(t){console.log(t),this.checkedRows=t},btnAddStaff:function(){this.staffListState=!1,this.addStaffState=!0},handleEdit:function(t,e){console.log(t,e),console.log(e),this.EditListForm=!0},sureEdit:function(){this.$message({type:"success",duration:"1500",message:"更新成功"}),this.EditListForm=!1},handleDelete:function(t,e,a){console.log(t),console.log(e),a.splice(t,1)},goBack:function(t,e){console.log(t),this[t]=!0,this[e]=!1}},created:function(){console.log(this.getStaffClasses.lock),this.staffPage=this.getStaffClasses.lock,this.getStaffIndex()},computed:f({},Object(l["c"])({getStaffClasses:"StoreTagNav/GetStaffClasses"})),components:{navBread:r["a"]}},p=u,d=(a("34fb"),a("2877")),b=Object(d["a"])(p,s,o,!1,null,null,null);e["default"]=b.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);