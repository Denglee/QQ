(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StaffIndex"],{"34fb":function(e,t,a){"use strict";var o=a("6c1d"),l=a.n(o);l.a},"454f":function(e,t,a){a("46a7");var o=a("584a").Object;e.exports=function(e,t,a){return o.defineProperty(e,t,a)}},"456d":function(e,t,a){var o=a("4bf8"),l=a("0d58");a("5eda")("keys",(function(){return function(e){return l(o(e))}}))},"46a7":function(e,t,a){var o=a("63b6");o(o.S+o.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},5033:function(e,t,a){"use strict";var o=a("99a1"),l=a.n(o);l.a},"5eda":function(e,t,a){var o=a("5ca1"),l=a("8378"),s=a("79e5");e.exports=function(e,t){var a=(l.Object||{})[e]||Object[e],r={};r[e]=t(a),o(o.S+o.F*s((function(){a(1)})),"Object",r)}},"6c1d":function(e,t,a){},"85f2":function(e,t,a){e.exports=a("454f")},"8e6e":function(e,t,a){var o=a("5ca1"),l=a("990b"),s=a("6821"),r=a("11e9"),i=a("f1ae");o(o.S,"Object",{getOwnPropertyDescriptors:function(e){var t,a,o=s(e),n=r.f,c=l(o),f={},d=0;while(c.length>d)a=n(o,t=c[d++]),void 0!==a&&i(f,t,a);return f}})},"990b":function(e,t,a){var o=a("9093"),l=a("2621"),s=a("cb7c"),r=a("7726").Reflect;e.exports=r&&r.ownKeys||function(e){var t=o.f(s(e)),a=l.f;return a?t.concat(a(e)):t}},"99a1":function(e,t,a){},bd86:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var o=a("85f2"),l=a.n(o);function s(e,t,a){return t in e?l()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},da53:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layoutR-main"},[a("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.staffListState,expression:"staffListState"}],staticClass:"vip-tabBox pubWidth",attrs:{id:"staffPay-tabBox"},on:{"tab-click":e.tabTotal},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{lazy:e.tabLazy,label:"员工列表",name:"StaffSalary"}},[a("div",{staticClass:"vip-tabBox"},[a("div",{staticClass:"pt-screen"},[a("el-select",{staticClass:"inp-mar14 ptSel-section",attrs:{placeholder:"是否在职"},model:{value:e.lockStateVal,callback:function(t){e.lockStateVal=t},expression:"lockStateVal"}},e._l(e.lockState,(function(e){return a("el-option",{key:e.index,attrs:{label:e.value,value:e.lock}})})),1),a("el-select",{staticClass:"inp-mar14 ptSel-section",attrs:{placeholder:"请选择岗位"},model:{value:e.userTypeListVal,callback:function(t){e.userTypeListVal=t},expression:"userTypeListVal"}},e._l(e.userTypeList,(function(e){return a("el-option",{key:e.index,attrs:{label:e.catname,value:e.id}})})),1),a("el-select",{staticClass:"inp-mar14 ptSel-section",attrs:{placeholder:"请选择部门"},model:{value:e.userTypeGroupVal,callback:function(t){e.userTypeGroupVal=t},expression:"userTypeGroupVal"}},e._l(e.groupArr,(function(e){return a("el-option",{key:e.index,attrs:{label:e.name,value:e.id}})})),1),a("el-input",{staticClass:"inp-mar14 pt-screen-input",attrs:{placeholder:"请输入姓名或电话号码",clearable:""},model:{value:e.staffInpVal,callback:function(t){e.staffInpVal=t},expression:"staffInpVal"}}),a("el-button",{staticClass:"btn-search btn-search",attrs:{icon:"el-icon-search"},on:{click:e.btnSeaStaff}},[e._v("搜索")]),a("div",{staticClass:"fr"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom","popper-class":"poper-del"}},[a("el-button",{staticClass:"btn-search btn-delete",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.deleteStaff()}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"bottom"}},[a("el-button",{staticClass:"btn-search btn-edit",attrs:{icon:"el-icon-edit"},on:{click:function(t){return e.changeStaff()}}})],1),a("el-button",{staticClass:"btn-search btn-edit",attrs:{type:"primary"},on:{click:e.btnAddStaff}},[e._v("添加员工")])],1)],1),a("el-table",{ref:"multipleTable",staticClass:"pub-table",attrs:{data:e.tableStaff,border:""},on:{"selection-change":e.checkedStaff,"row-click":e.handleRowClick}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"user_no",label:"工号"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.sex?a("div",[e._v("未知")]):e._e(),1==t.row.sex?a("div",[e._v("男")]):e._e(),2==t.row.sex?a("div",[e._v("女")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"电话"}}),a("el-table-column",{attrs:{prop:"user_type",label:"岗位"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("全部职位")]):e._e(),1==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("店长")]):e._e(),2==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("顾问")]):e._e(),3==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("教练")]):e._e(),4==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("操课")]):e._e(),5==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("财务")]):e._e(),6==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("前台")]):e._e(),7==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("保洁员")]):e._e(),8==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("后勤")]):e._e(),100==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("教练经理")]):e._e(),200==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("顾问经理")]):e._e(),9==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("boss")]):e._e(),10==t.row.user_type?a("div",{staticClass:"status-connect"},[e._v("行政")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"部门",prop:"group_name"}}),a("el-table-column",{attrs:{label:"班次",prop:"classes"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.classes?a("div",[e._v("正班")]):e._e(),2==t.row.classes?a("div",[e._v("早班")]):e._e(),3==t.row.classes?a("div",[e._v("中班")]):e._e(),4==t.row.classes?a("div",[e._v("晚班")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"deduction_type",label:"提成方式"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.deduction_type,(function(t,o){return a("div",[e._v("\n                                "+e._s(t)+"\n                            ")])}))}}])}),a("el-table-column",{attrs:{prop:"lock",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.lock?a("div",{staticClass:"status-connect"},[e._v("在职")]):e._e(),1==t.row.lock?a("div",{staticClass:"status-break"},[e._v("离职")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"register_time",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"status-connect"},[e._v(e._s(e._f("dateFormat")(t.row.register_time)))])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total,jumper",total:e.pageTotalRows,"page-size":e.pageListRows},on:{"current-change":e.PageCurrent}})],1)]),a("el-tab-pane",{attrs:{lazy:e.tabLazy,label:"部门",name:"StaffRoyalty"}},[a("div",{staticClass:"clearfix"},[a("el-button",{staticClass:"btn-add fr btn-search",attrs:{type:"primary"},on:{click:function(t){return e.btnAddGroup()}}},[e._v("添加部门")])],1),a("el-table",{staticClass:"pub-table",attrs:{data:e.groupArr,border:""}},[a("el-table-column",{attrs:{type:"index",width:"200px"}}),a("el-table-column",{attrs:{prop:"name",label:"部门"}}),a("el-table-column",{attrs:{label:"详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.EditGroup(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.deleteGroup(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),e.addStaffState?a("div",{staticClass:"vip-tabBox"},[a("navBread",{attrs:{breadTitle:"员工列表",breadContent1:e.editStaffMark},on:{GoBack:function(t){return e.goBack("staffListState","addStaffState")}}}),a("addStaff",{attrs:{editStaffMark:e.editStaffMark,editStaff:e.editStaff}})],1):e._e(),a("el-dialog",{attrs:{title:e.diaGroupTitle,visible:e.diaGroup,width:"600px"},on:{"update:visible":function(t){e.diaGroup=t}}},[a("el-form",{staticClass:"dia-form",attrs:{model:e.setupGroup,"label-width":e.formLabelRoyalty}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{staticClass:"dia-inp",attrs:{placeholder:"请输入部门名字",autocomplete:"off"},model:{value:e.setupGroup.name,callback:function(t){e.$set(e.setupGroup,"name",t)},expression:"setupGroup.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{plain:""},on:{click:function(t){e.diaGroup=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sureDiaGropu()}}},[e._v("确 定")])],1)],1)],1)},l=[],s=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=(a("c5f6"),a("7f7f"),a("2f62")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vip-tabBox"},[a("el-form",{ref:"addStaffForm",staticClass:"addForm-box",attrs:{model:e.addStaffForm,rules:e.addRules}},[a("el-form-item",{attrs:{label:"员工头像","label-width":e.formLabelWidth}},[e.addStaffForm.userimage?a("div",{staticClass:"img-header"},[a("img",{ref:"singleImg",attrs:{src:e._f("imgBase")(e.addStaffForm.userimage,e.localUrl)}})]):e._e(),a("el-upload",{staticClass:"btn-header",attrs:{action:"#","list-type":"picture-card","on-change":e.changeUpload,"show-file-list":!1,"auto-upload":!1}},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),a("el-dialog",{attrs:{visible:e.diaVisible},on:{"update:visible":function(t){e.diaVisible=t}}},[a("img",{attrs:{width:"100%",src:e.addStaffForm.userimage,alt:""}})])],1),a("el-form-item",{attrs:{label:"职位","label-width":e.formLabelWidth,prop:"user_type"}},[a("el-select",{staticClass:"inpStaffTel",attrs:{placeholder:"请选择职位"},model:{value:e.addStaffForm.user_type,callback:function(t){e.$set(e.addStaffForm,"user_type",t)},expression:"addStaffForm.user_type"}},e._l(e.userTypeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.catname,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"部门","label-width":e.formLabelWidth,prop:"group_id"}},[a("el-select",{staticClass:"inpStaffTel",attrs:{placeholder:"请选择部门"},model:{value:e.addStaffForm.group_id,callback:function(t){e.$set(e.addStaffForm,"group_id",t)},expression:"addStaffForm.group_id"}},e._l(e.staffGroup,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{staticClass:"inpStaffTel",attrs:{autocomplete:"off",placeholder:"请输入姓名",clearable:""},model:{value:e.addStaffForm.name,callback:function(t){e.$set(e.addStaffForm,"name",t)},expression:"addStaffForm.name"}})],1),a("el-form-item",{attrs:{label:"编号","label-width":e.formLabelWidth,prop:"user_no"}},[a("el-input",{staticClass:"inpStaffTel",attrs:{autocomplete:"off",placeholder:"请输入编号",clearable:""},model:{value:e.addStaffForm.user_no,callback:function(t){e.$set(e.addStaffForm,"user_no",t)},expression:"addStaffForm.user_no"}}),a("div",{staticClass:"colorGray"},[a("i",{staticClass:"el-icon-warning"}),e._v("请输入编号，如：小惠，编号写：xh,便于后期快速查询")])],1),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-radio-group",{staticClass:"inpStaffName",model:{value:e.addStaffForm.sex,callback:function(t){e.$set(e.addStaffForm,"sex",t)},expression:"addStaffForm.sex"}},[a("el-radio",{attrs:{label:"1"}},[e._v("男")]),a("el-radio",{attrs:{label:"2"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-radio-group",{staticClass:"inpStaffName",model:{value:e.addStaffForm.lock,callback:function(t){e.$set(e.addStaffForm,"lock",t)},expression:"addStaffForm.lock"}},[a("el-radio",{attrs:{label:"0"}},[e._v("在职")]),a("el-radio",{attrs:{label:"1"}},[e._v("离职")])],1)],1),a("el-form-item",{attrs:{label:"电话","label-width":e.formLabelWidth,prop:"phone"}},[a("el-input",{staticClass:"inpStaffTel",attrs:{autocomplete:"off",placeholder:"请输入电话",clearable:""},model:{value:e.addStaffForm.phone,callback:function(t){e.$set(e.addStaffForm,"phone",t)},expression:"addStaffForm.phone"}})],1),a("el-form-item",{attrs:{label:"班次","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"inpStaffTel",attrs:{placeholder:"请选择班次"},model:{value:e.addStaffForm.classes,callback:function(t){e.$set(e.addStaffForm,"classes",t)},expression:"addStaffForm.classes"}},e._l(e.classesType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"价格模式","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"inpStaffTel",attrs:{placeholder:"请选择价格模式"},model:{value:e.addStaffForm.price_type,callback:function(t){e.$set(e.addStaffForm,"price_type",t)},expression:"addStaffForm.price_type"}},e._l(e.priceType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.id}})})),1)],1),2==e.addStaffForm.price_type?a("div",[a("el-form-item",{attrs:{label:e.priceType[1].value+1,"label-width":e.formLabelWidth}},[a("el-time-picker",{key:"addStaffForm.eprice_s",staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段1开始时间"},model:{value:e.addStaffForm.eprice_s,callback:function(t){e.$set(e.addStaffForm,"eprice_s",t)},expression:"addStaffForm.eprice_s"}}),a("el-time-picker",{key:"addStaffForm.eprice_e",staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段1结束时间"},model:{value:e.addStaffForm.eprice_e,callback:function(t){e.$set(e.addStaffForm,"eprice_e",t)},expression:"addStaffForm.eprice_e"}}),a("el-input",{staticClass:"inpStaffTime",attrs:{placeholder:"时段1价格",autocomplete:"off",clearable:""},model:{value:e.addStaffForm.eprice,callback:function(t){e.$set(e.addStaffForm,"eprice",t)},expression:"addStaffForm.eprice"}})],1),a("el-form-item",{attrs:{label:e.priceType[1].value+2,"label-width":e.formLabelWidth}},[a("el-time-picker",{staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段2开始时间"},model:{value:e.addStaffForm.eprice2_s,callback:function(t){e.$set(e.addStaffForm,"eprice2_s",t)},expression:"addStaffForm.eprice2_s"}}),a("el-time-picker",{staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段2结束时间"},model:{value:e.addStaffForm.eprice2_e,callback:function(t){e.$set(e.addStaffForm,"eprice2_e",t)},expression:"addStaffForm.eprice2_e"}}),a("el-input",{staticClass:"inpStaffTime",attrs:{placeholder:"时段2价格",autocomplete:"off",clearable:""},model:{value:e.addStaffForm.eprice2,callback:function(t){e.$set(e.addStaffForm,"eprice2",t)},expression:"addStaffForm.eprice2"}})],1),a("el-form-item",{attrs:{label:e.priceType[1].value+3,"label-width":e.formLabelWidth}},[a("el-time-picker",{staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段3开始时间"},model:{value:e.addStaffForm.eprice3_s,callback:function(t){e.$set(e.addStaffForm,"eprice3_s",t)},expression:"addStaffForm.eprice3_s"}}),a("el-time-picker",{staticClass:"inpStaffTime",attrs:{format:"HH:mm","value-format":"HH:mm",placeholder:"时段3结束时间"},model:{value:e.addStaffForm.eprice3_e,callback:function(t){e.$set(e.addStaffForm,"eprice3_e",t)},expression:"addStaffForm.eprice3_e"}}),a("el-input",{staticClass:"inpStaffTime",attrs:{placeholder:"时段3价格",autocomplete:"off",clearable:""},model:{value:e.addStaffForm.eprice3,callback:function(t){e.$set(e.addStaffForm,"eprice3",t)},expression:"addStaffForm.eprice3"}})],1)],1):a("div",[a("el-form-item",{attrs:{label:e.priceType[0].value,"label-width":e.formLabelWidth}},[a("el-input",{staticClass:"inpStaffTel",attrs:{placeholder:"请输入价格",autocomplete:"off",clearable:""},model:{value:e.addStaffForm.eprice,callback:function(t){e.$set(e.addStaffForm,"eprice",t)},expression:"addStaffForm.eprice"}})],1)],1),a("el-form-item",{attrs:{label:"基本工资","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"inpStaffTel",attrs:{autocomplete:"off",placeholder:"请输入基本工资"},model:{value:e.addStaffForm.salary,callback:function(t){e.$set(e.addStaffForm,"salary",t)},expression:"addStaffForm.salary"}})],1),a("el-form-item",{attrs:{label:"提成方式","label-width":e.formLabelWidth}},[a("el-checkbox-group",{staticClass:"inpStaffTel",on:{change:e.CheckedtcType},model:{value:e.addStaffForm.deduction_type,callback:function(t){e.$set(e.addStaffForm,"deduction_type",t)},expression:"addStaffForm.deduction_type"}},e._l(e.deductionType,(function(t,o){return a("el-checkbox",{key:o,attrs:{name:"DeductionType",label:t.id}},[e._v(e._s(t.deduction_name))])})),1)],1),a("el-form-item",{attrs:{label:"教练介绍","label-width":e.formLabelWidth}},[a("tinymce",{ref:"editor",staticStyle:{"max-width":"80%"},attrs:{disabled:e.disabled},on:{onClick:e.onClick},model:{value:e.addStaffForm.user_des,callback:function(t){e.$set(e.addStaffForm,"user_des",t)},expression:"addStaffForm.user_des"}})],1),a("el-form-item",{attrs:{"label-width":e.formLabelWidth}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.postStaffAdd("addStaffForm")}}},[e._v("提交")])],1)],1)],1)},n=[],c=a("e6f4"),f=a("f88c"),d=a("a474"),u={name:"addStaff",inject:["reLoad"],props:{editStaffMark:{type:String},editStaff:{}},data:function(){return{formLabelWidth:"120px",diaHeadImgUrl:"",diaVisible:!1,diaImgVisi:!1,imgUrl:"",addStaffForm:{id:"",information:"2",zmtek_ver:2,type:1,userimage:"",user_type:"",name:"",sex:"1",lock:"0",user_no:"",phone:"",classes:"",group_id:"",salary:"",deduction_type:[],user_des:"",price_type:"",eprice_s:"",eprice_e:"",eprice:"",eprice2_s:"",eprice2_e:"",eprice2:"",eprice3_s:"",eprice3_e:"",eprice3:""},priceType:[{id:"1",value:"全天统一 "},{id:"2",value:"分时段"}],userTypeList:this.GLOBAL.userTypeList,staffGroup:[],deductionType:[],classesType:[{id:"1",value:"正班 "},{id:"2",value:"早班"},{id:"3",value:"中班"},{id:"4",value:"晚班"}],addRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],user_no:[{required:!0,message:"请输入编号",trigger:"blur"}],phone:[{required:!0,message:"请输入姓名",trigger:"blur"}],user_type:[{required:!0,message:"请选择职位",trigger:"change"}],group_id:[{required:!0,message:"请选择部门",trigger:"change"}]},localUrl:this.GLOBAL.localUrl,disabled:!1}},filters:{imgBase:function(e,t){return console.log(e),e.indexOf("data:image")>-1?e:t+"/"+e}},methods:{onClick:function(e,t){console.log("Element clicked"),console.log(e),console.log(t)},clear:function(){this.$refs.editor.clear()},changeUpload:function(e){var t=this;console.log(e),this.addStaffForm.userimage="",this.GLOBAL.getEleBase64(e.raw).then((function(e){console.log(e),t.addStaffForm.userimage=e}))},handleRemove:function(e){console.log(e)},staffCardPreview:function(e){this.diaHeadImgUrl=e.url,this.diaVisible=!0},getStaffFrom:function(){"员工编辑"==this.editStaffMark&&(this.addStaffForm=this.editStaff,console.log(this.editStaff)),console.log(this.addStaffForm)},postStaffAdd:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var a=t.addStaffForm;console.log(a),t.addStaffForm.zmtek_ver=2,t.addStaffForm.information=2,Object(d["w"])(a).then((function(e){1==e.status?(console.log(e.data),t.$message.success(e.info),setTimeout((function(){t.reLoad()}),1e3)):(t.$message.error(e.info),console.log(e.info))})).catch((function(e){console.log(e)}))}))},getStaffGroup:function(){var e=this;Object(d["z"])({zmtek_ver:2,type:1}).then((function(t){console.log(t.data),e.staffGroup=t.data})).catch((function(e){console.log(e)}))},CheckedtcType:function(e){},getStaffDeduct:function(){var e=this;Object(d["x"])({zmtek_ver:2,type:1}).then((function(t){console.log(t.data),e.deductionType=t.data})).catch((function(e){console.log(e)}))}},created:function(){this.getStaffGroup(),this.getStaffDeduct(),this.getStaffFrom()},components:{navBread:c["a"],tinymce:f["a"]}},p=u,m=a("2877"),b=Object(m["a"])(p,i,n,!1,null,"18f4e363",null),h=b.exports;function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={inject:["reLoad"],name:"StaffIndex",data:function(){return{activeTabName:"StaffSalary",tabLazy:!0,lockState:[{lock:0,value:"在职"},{lock:1,value:"离职"}],lockStateVal:0,userTypeList:this.GLOBAL.userTypeList,userTypeListVal:"10000",staffInpVal:"",userTypeGroupVal:"",staffDeductArr:[],tableStaff:[],pageTotalRows:0,pageListRows:0,staffPage:1,formLabelWidth:"120px",EditListForm:!1,staffListState:!0,addStaffState:!1,addTitle:"添加员工",checkedRows:[],staffSelection:[],editStaffMark:"",editStaff:[],formLabelRoyalty:"90px",diaGroup:!1,diaGroupTitle:"",groupType:1,setupGroup:{name:"",id:""},groupArr:[]}},methods:{tabTotal:function(e,t){var a=e.name;this.callTabApi(a),sessionStorage.setItem("StaffIndexTabName",a)},getStaffIndex:function(){var e=this;Object(d["A"])({p:this.staffPage,zmtek_ver:2,user_type:this.userTypeListVal,phone:this.staffInpVal,lock:this.lockStateVal}).then((function(t){console.log(t.data.list),1==t.status&&(e.tableStaff=t.data.list,e.pageTotalRows=Number(t.data.totalRows),e.pageListRows=t.data.listRows)})).catch((function(e){console.log(e)}))},PageCurrent:function(e){this.staffPage=e,this.getStaffIndex()},btnSeaStaff:function(){this.staffPage=1,this.getStaffIndex()},checkedStaff:function(e){console.log(e),this.checkedRows=e},handleRowClick:function(e,t,a){this.$refs.multipleTable.toggleRowSelection(e)},deleteStaff:function(e){var t=this,a=this.checkedRows;console.log(a),console.log(a.length),0==a.length?this.$message.error("至少选一个操作对象"):1==a.length?(console.log(a[0].id),Object(d["y"])({id:a[0].id,zmtek_ver:2}).then((function(e){0==e.status&&t.$prompt(e.info,"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var o=e.value;console.log(o),Object(d["y"])({id:a[0].id,zmtek_ver:2,pwd:o}).then((function(e){console.log(e),1==e.status&&(t.$message.success(e.info),setTimeout((function(){t.reLoad()}),1e3)),0==e.status&&t.$message.error(e.info)})).catch((function(e){console.log(e)}))})).catch((function(){console.log("取消")}))})).catch((function(e){console.log(e)}))):this.$message.error("只能选一个")},changeStaff:function(){var e=this.checkedRows;console.log(e),console.log(e.length),0==e.length?this.$message.error("至少选一个操作对象"):1==e.length?(console.log(e[0]),this.editStaffMark="员工编辑",this.editStaff=e[0],this.staffListState=!1,this.addStaffState=!0):this.$message.error("只能选一个")},getStaffDeduct:function(){var e=this;Object(d["x"])({zmtek_ver:2,type:1,deduction_name:"",deduction_type:"",id:""}).then((function(t){console.log(t.data),e.staffDeductArr=t.data})).catch((function(e){console.log(e)}))},btnAddStaff:function(){this.editStaffMark="添加员工",this.editStaff=[],this.staffListState=!1,this.addStaffState=!0},goBack:function(e,t){console.log(e),this[e]=!0,this[t]=!1},getStaffGroup:function(e,t){var a=this;Object(d["z"])({zmtek_ver:2,type:this.groupType,name:e||"",id:t||""}).then((function(e){console.log(e.data),console.log(a.groupType),1==e.status&&(1==a.groupType?a.groupArr=e.data:(a.$message.success(e.info),setTimeout((function(){a.diaGroup=!1,a.reLoad()}),1e3))),0==e.status&&console.log(e.info)})).catch((function(e){console.log(e)}))},sureDiaGropu:function(){var e=this.setupGroup.name;if(console.log(e),""==e)this.$message.error("部门名称 不能为空");else{var t=this.setupGroup.id;this.getStaffGroup(e,t)}},btnAddGroup:function(){this.diaGroupTitle="添加部门",this.groupType=2,this.diaGroup=!0},EditGroup:function(e,t){console.log(e,t),this.setupGroup.id=t.id,this.setupGroup.name=t.name,this.diaGroupTitle="部门编辑",this.groupType=3,this.diaGroup=!0},deleteGroup:function(e,t){var a=this;this.$confirm("确定删除该部门？？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.groupType=4;var e=t.id;console.log(e),a.getStaffGroup("",e)})).catch((function(){}))},callTabApi:function(e){console.log(e),"StaffSalary"==e&&(console.log(this.getStaffClasses.lock),this.staffPage=this.getStaffClasses.lock,this.getStaffIndex(),this.getStaffGroup(),this.getStaffDeduct())}},created:function(){var e=sessionStorage.getItem("StaffIndexTabName");null==e?e=this.activeTabName:this.activeTabName=e,this.callTabApi(e),console.log("GetStaffClasses:"+this.getStaffClasses)},computed:v({},Object(r["c"])({getStaffClasses:"StoreTagNav/GetStaffClasses"})),components:{addStaff:h,navBread:c["a"]}},_=g,y=(a("34fb"),Object(m["a"])(_,o,l,!1,null,null,null));t["default"]=y.exports},e6f4:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"nav-bread",attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("span",{staticClass:"hover-bread",on:{click:function(t){return e.$emit("GoBack")}}},[a("i",{staticClass:"el-icon-back"}),e._v(e._s(e.breadTitle)+"\n            ")])]),a("el-breadcrumb-item",[e._v(e._s(e.breadContent1))])],1)],1)},l=[],s=a("a026");a("3c4e");const r=Object.prototype.hasOwnProperty;function i(e,t){return r.call(e,t)}const n=/(%|)\{([0-9a-zA-Z_]+)\}/g;var c=function(e){function t(e,...t){return 1===t.length&&"object"===typeof t[0]&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(n,(a,o,l,s)=>{let r;return"{"===e[s-1]&&"}"===e[s+a.length]?l:(r=i(t,l)?t[l]:null,null===r||void 0===r?"":r)})}return t};c(s["default"]);var f={name:"navBread",props:{breadTitle:{type:String,default:function(){return"首页"}},breadContent1:{type:String,default:function(){return""}},breadContent2:{type:String,default:function(){return""}}},data:function(){return{}},methods:{},created:function(){}},d=f,u=(a("5033"),a("2877")),p=Object(u["a"])(d,o,l,!1,null,"20808f96",null);t["a"]=p.exports},f1ae:function(e,t,a){"use strict";var o=a("86cc"),l=a("4630");e.exports=function(e,t,a){t in e?o.f(e,t,l(0,a)):e[t]=a}}}]);