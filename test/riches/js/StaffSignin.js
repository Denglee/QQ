(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StaffSignin"],{3389:function(t,e,a){"use strict";var s=a("38b3"),r=a.n(s);r.a},"38b3":function(t,e,a){},"5dbc":function(t,e,a){var s=a("d3f4"),r=a("8b97").set;t.exports=function(t,e,a){var i,l=e.constructor;return l!==a&&"function"==typeof l&&(i=l.prototype)!==a.prototype&&s(i)&&r&&r(t,i),t}},7676:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layoutR-main"},[a("el-tabs",{staticClass:"vip-tabBox pubWidth",attrs:{id:"staffPay-tabBox"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{lazy:t.tabLazy,label:"打卡记录",name:"StaffSalary"}},[a("form",{staticClass:"pt-screen"},[a("el-input",{staticClass:"inp-mar14 pt-screen-input",attrs:{placeholder:"请输入会员姓名、电话",clearable:""},model:{value:t.staffName,callback:function(e){t.staffName=e},expression:"staffName"}}),a("el-date-picker",{staticClass:"inp-mar14 month-inp",attrs:{placeholder:"请选择月份",type:"month","value-format":"yyyy-MM"},model:{value:t.staffMonth,callback:function(e){t.staffMonth=e},expression:"staffMonth"}}),a("el-button",{staticClass:"btn-search",attrs:{icon:"el-icon-search"},on:{click:t.btnSeaStaffSignin}},[t._v("搜索")]),a("el-button",{staticClass:"btn-search fr",attrs:{icon:"el-icon-notebook-1"},on:{click:t.singExport}},[t._v("导出")])],1),a("div",{},[a("table",{staticClass:"staffSign-table"},[a("thead",[a("tr",{staticClass:"thead"},[a("th",{staticClass:"cell"},[t._v("姓名")]),t._l(t.signStaffList,(function(e,s){return a("th",{key:s},[a("div",{staticClass:"cell"},[t._v(t._s(e.name))])])}))],2)]),a("tbody",[a("tr",[a("td",{staticClass:"cell"},[t._v("统计")]),t._l(t.signStaffList,(function(e,s){return a("td",{key:s},[a("div",{staticClass:"cell sign-up"},[t._v("上班："+t._s(e.up)+"天")]),a("div",{staticClass:"cell sign-rest"},[t._v("休息："+t._s(e.rest)+"天")]),a("div",{staticClass:"cell sign-warn"},[a("i",{staticClass:"el-icon-warning"}),t._v("异常："+t._s(e.abnormal)+"天")])])}))],2),t._l(t.signStaffDate,(function(e,s){return a("tr",{key:s},[a("td",[a("div",{staticClass:"cell"},[t._v(t._s(e.day))])]),t._l(e.check,(function(e,s){return a("td",{key:s},[a("div",{staticClass:"cell clock-in"},[t._v(t._s(e.clockin))]),a("div",{staticClass:"cell clock-out"},[t._v(t._s(e.clockout))])])}))],2)}))],2)]),a("div",{staticClass:"page-assist"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next,total,jumper",total:t.pageTotalRows,"page-size":t.pageListRows},on:{"current-change":t.PageCurrent}})],1)])]),a("el-tab-pane",{attrs:{lazy:t.tabLazy,label:"班次设置",name:"StaffRoyalty"}},[a("div",{staticClass:"clearfix"},[a("el-button",{staticClass:"fr btn-search",attrs:{type:"primary"},on:{click:t.btnSetTime}},[t._v("设置")])],1),a("el-table",{staticClass:"pub-table",attrs:{data:t.tableClassTime,border:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"name",label:"班次"}}),a("el-table-column",{attrs:{label:"上班时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.FormalTime[0]))])]}}])}),a("el-table-column",{attrs:{label:"下班时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.FormalTime[1]))])]}}])}),a("el-table-column",{attrs:{label:"查看"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.goStaffIndex(e.$index,e.row)}}},[t._v("此班人员")])]}}])})],1)],1)],1),a("el-dialog",{attrs:{title:"班次编辑",visible:t.EditTimeForm},on:{"update:visible":function(e){t.EditTimeForm=e}}},[a("el-form",{attrs:{model:t.tableClassTime[0],"label-width":t.formLabelWidth}},[a("el-form-item",{attrs:{label:"正班"}},[a("el-time-picker",{attrs:{"is-range":"",format:"HH：mm","value-format":"HH:mm","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.tableClassTime[0].FormalTime,callback:function(e){t.$set(t.tableClassTime[0],"FormalTime",e)},expression:"tableClassTime[0].FormalTime"}})],1),a("el-form-item",{attrs:{label:"早班"}},[a("el-time-picker",{attrs:{"is-range":"",format:"HH：mm","value-format":"HH:mm","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.tableClassTime[1].FormalTime,callback:function(e){t.$set(t.tableClassTime[1],"FormalTime",e)},expression:"tableClassTime[1].FormalTime"}})],1),a("el-form-item",{attrs:{label:"午班"}},[a("el-time-picker",{attrs:{"is-range":"",format:"HH：mm","value-format":"HH:mm","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.tableClassTime[2].FormalTime,callback:function(e){t.$set(t.tableClassTime[2],"FormalTime",e)},expression:"tableClassTime[2].FormalTime"}})],1),a("el-form-item",{attrs:{label:"晚班"}},[a("el-time-picker",{attrs:{"is-range":"",format:"HH：mm","value-format":"HH:mm","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.tableClassTime[3].FormalTime,callback:function(e){t.$set(t.tableClassTime[3],"FormalTime",e)},expression:"tableClassTime[3].FormalTime"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.EditTimeForm=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sureDialogTIme()}}},[t._v("确 定")])],1)],1)],1)},r=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("c5f6"),a("bd86")),l=a("2f62"),n=a("a474");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"Staffsignin",data:function(){return{activeName:"StaffRoyalty",tabLazy:!0,formLabelWidth:"120px",signStaffList:[],signStaffDate:[],staffName:"",staffMonth:"",pageTotalRows:0,pageListRows:0,staffPage:1,EditTimeForm:!1,tableClassTime:[{lock:0,name:"正班",FormalTime:["09:00","18:00"]},{lock:2,name:"早班",FormalTime:["09:00","18:00"]},{lock:3,name:"中班",FormalTime:["13:30","18:00"]},{lock:4,name:"晚班",FormalTime:["18:00","22:00"]}]}},methods:c({},Object(l["b"])({ActSaveStaffClasses:"StoreTagNav/ActSaveStaffClasses"}),{getStaffSignin:function(){var t=this;Object(n["q"])({zmtek_ver:2,p:this.staffPage,keywords:this.staffName,starttime:this.staffMonth}).then((function(e){1==e.status&&(console.log(e),t.signStaffList=e.data.staff.list,t.signStaffDate=e.data.date,t.pageTotalRows=Number(e.data.staff.totalRows),t.pageListRows=e.data.staff.listRows)})).catch((function(t){console.log(t)}))},btnSeaStaffSignin:function(){this.staffPage=1,this.getStaffSignin()},PageCurrent:function(t){this.staffPage=t,this.getStaffSignin()},singExport:function(){var t=this.GLOBAL.localUrl,e=this.staffPage,a=this.staffName,s=this.staffMonth;""==s&&(s=this.$moment().format("YYYY-MM"));var r=t+"/staff/excel_sign.html?zmtek_ver=2&p="+e+"&keywords="+a+"&starttime="+s;console.log(r),window.location.href=r},btnSetTime:function(){this.EditTimeForm=!0},sureDialogTIme:function(){this.EditTimeForm=!1},goStaffIndex:function(t,e){this.$router.push({path:"/Staff/index"});var a=e;this.ActSaveStaffClasses(a)}}),created:function(){this.getStaffSignin()}},m=f,u=(a("3389"),a("2877")),p=Object(u["a"])(m,s,r,!1,null,null,null);e["default"]=p.exports},"8b97":function(t,e,a){var s=a("d3f4"),r=a("cb7c"),i=function(t,e){if(r(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,s){try{s=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),s(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:s(t,a),t}}({},!1):void 0),check:i}},aa77:function(t,e,a){var s=a("5ca1"),r=a("be13"),i=a("79e5"),l=a("fdef"),n="["+l+"]",o="​",c=RegExp("^"+n+n+"*"),f=RegExp(n+n+"*$"),m=function(t,e,a){var r={},n=i((function(){return!!l[t]()||o[t]()!=o})),c=r[t]=n?e(u):l[t];a&&(r[a]=c),s(s.P+s.F*n,"String",r)},u=m.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(f,"")),t};t.exports=m},c5f6:function(t,e,a){"use strict";var s=a("7726"),r=a("69a8"),i=a("2d95"),l=a("5dbc"),n=a("6a99"),o=a("79e5"),c=a("9093").f,f=a("11e9").f,m=a("86cc").f,u=a("aa77").trim,p="Number",b=s[p],d=b,g=b.prototype,v=i(a("2aeb")(g))==p,h="trim"in String.prototype,y=function(t){var e=n(t,!1);if("string"==typeof e&&e.length>2){e=h?e.trim():u(e,3);var a,s,r,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+e}for(var l,o=e.slice(2),c=0,f=o.length;c<f;c++)if(l=o.charCodeAt(c),l<48||l>r)return NaN;return parseInt(o,s)}}return+e};if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof b&&(v?o((function(){g.valueOf.call(a)})):i(a)!=p)?l(new d(y(e)),a,b):y(e)};for(var _,S=a("9e1e")?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;S.length>T;T++)r(d,_=S[T])&&!r(b,_)&&m(b,_,f(d,_));b.prototype=g,g.constructor=b,a("2aba")(s,p,b)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);